<%= password_field_tag :password, '' %></br>
<%= password_field_tag :password, '' %>

<script>
  $(document).ready(function(){
    $('input[type="password"]').after('<input type="checkbox" class="sh_password"/>Show password');
    $('input[type="checkbox"]').change(function(){
      var prev = $(this).prev();
      var value = prev.attr('value');
      var type = prev.attr('type');
      var new_type = (type == 'password') ? 'text' : 'password'
      var id = prev.attr('id');
      var clas = prev.attr('class');
      prev.remove();
      $(this).before('<input type="'+ new_type +'" value="'+ value +'" class ="'+ clas +'" id="'+ id+'">');
    });
  });
</script>